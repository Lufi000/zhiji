import Foundation

// MARK: - 八字常量（封装在枚举中避免命名空间污染）
//
// 迁移策略：新逻辑优先使用类型安全层（Models/GanZhiTypes.swift）。
// - 天干/地支/五行/阴阳：使用 TianGan / DiZhi / WuXing 枚举及 String.asTianGan / .asDiZhi / .ganZhiWuXing 等扩展。
// - 旧代码在改动时顺带替换为枚举；未改动的调用可继续使用本常量，保持单一数据源（本文件与 GanZhiTypes 需同步维护直至迁移完成）。

enum BaziConstants {
    // MARK: - 天干地支基础数据

    /// 十天干
    static let tianGan = ["甲", "乙", "丙", "丁", "戊", "己", "庚", "辛", "壬", "癸"]

    /// 十二地支
    static let diZhi = ["子", "丑", "寅", "卯", "辰", "巳", "午", "未", "申", "酉", "戌", "亥"]

    /// 十二生肖
    static let shengXiao = ["鼠", "牛", "虎", "兔", "龙", "蛇", "马", "羊", "猴", "鸡", "狗", "猪"]

    // MARK: - 五行属性
    // ⚠️ 以下字典将逐步废弃，请优先使用 String.ganZhiWuXing 扩展或枚举属性
    // 迁移示例：BaziConstants.wuXing["甲"] → "甲".ganZhiWuXing 或 TianGan.甲.wuXing.rawValue

    /// 天干地支对应的五行
    /// - Note: 建议使用 `String.ganZhiWuXing` 扩展或 `TianGan/DiZhi.wuXing` 属性
    static let wuXing: [String: String] = [
        "甲": "木", "乙": "木", "丙": "火", "丁": "火", "戊": "土",
        "己": "土", "庚": "金", "辛": "金", "壬": "水", "癸": "水",
        "子": "水", "丑": "土", "寅": "木", "卯": "木", "辰": "土",
        "巳": "火", "午": "火", "未": "土", "申": "金", "酉": "金", "戌": "土", "亥": "水"
    ]

    /// 天干地支对应的阴阳
    /// - Note: 建议使用 `String.ganZhiYinYang` 扩展或 `TianGan/DiZhi.yinYang` 属性
    static let yinYang: [String: String] = [
        "甲": "阳", "乙": "阴", "丙": "阳", "丁": "阴", "戊": "阳",
        "己": "阴", "庚": "阳", "辛": "阴", "壬": "阳", "癸": "阴",
        "子": "阳", "丑": "阴", "寅": "阳", "卯": "阴", "辰": "阳",
        "巳": "阴", "午": "阳", "未": "阴", "申": "阳", "酉": "阴", "戌": "阳", "亥": "阴"
    ]

    /// 地支藏干
    /// - Note: 建议使用 `String.zhiCangGan` 扩展或 `DiZhi.cangGan` 属性
    static let cangGan: [String: [String]] = [
        "子": ["癸"], "丑": ["己", "癸", "辛"], "寅": ["甲", "丙", "戊"],
        "卯": ["乙"], "辰": ["戊", "乙", "癸"], "巳": ["丙", "庚", "戊"],
        "午": ["丁", "己"], "未": ["己", "丁", "乙"], "申": ["庚", "壬", "戊"],
        "酉": ["辛"], "戌": ["戊", "辛", "丁"], "亥": ["壬", "甲"]
    ]

    // MARK: - 五行生克关系

    /// 五行相生：A生B，A是key，B是value
    static let wuXingSheng: [String: String] = ["木": "火", "火": "土", "土": "金", "金": "水", "水": "木"]

    /// 五行相克：A克B，A是key，B是value
    static let wuXingKe: [String: String] = ["木": "土", "土": "水", "水": "火", "火": "金", "金": "木"]

    /// 五行被克：谁克某五行
    static let wuXingBeiKe: [String: String] = ["木": "金", "火": "水", "土": "木", "金": "火", "水": "土"]

    // MARK: - 合冲刑害数据

    /// 四库地支（辰戌丑未）
    static let siKuZhi: Set<String> = ["辰", "戌", "丑", "未"]

    /// 四库形成条件：地支 -> [(触发天干, 形成的库五行)]
    static let siKuTrigger: [String: [(triggerGan: [String], kuWuXing: String)]] = [
        "丑": [(["庚", "辛"], "金")],           // 丑遇金天干 → 金库
        "辰": [(["壬", "癸"], "水")],           // 辰遇水天干 → 水库
        "未": [(["甲", "乙"], "木")],           // 未遇木天干 → 木库
        "戌": [(["丙", "丁"], "火"),            // 戌遇火天干 → 火库
               (["戊", "己"], "土")]            // 戌遇土天干 → 土库
    ]

    /// 天干五合
    static let tianGanHe: [(String, String, String)] = [
        ("甲", "己", "土"),  // 甲己合化土
        ("乙", "庚", "金"),  // 乙庚合化金
        ("丙", "辛", "水"),  // 丙辛合化水
        ("丁", "壬", "木"),  // 丁壬合化木
        ("戊", "癸", "火")   // 戊癸合化火
    ]

    /// 地支六合
    static let diZhiLiuHe: [(String, String, String)] = [
        ("子", "丑", "土"),  // 子丑合化土
        ("寅", "亥", "木"),  // 寅亥合化木
        ("卯", "戌", "火"),  // 卯戌合化火
        ("辰", "酉", "金"),  // 辰酉合化金
        ("巳", "申", "水"),  // 巳申合化水
        ("午", "未", "火")   // 午未合化火（或土）
    ]

    /// 地支三合局
    static let diZhiSanHe: [(String, String, String, String)] = [
        ("申", "子", "辰", "水"),  // 申子辰三合水局
        ("寅", "午", "戌", "火"),  // 寅午戌三合火局
        ("巳", "酉", "丑", "金"),  // 巳酉丑三合金局
        ("亥", "卯", "未", "木")   // 亥卯未三合木局
    ]

    /// 地支三会局（方局）
    static let diZhiSanHui: [(String, String, String, String)] = [
        ("寅", "卯", "辰", "木"),  // 寅卯辰三会东方木
        ("巳", "午", "未", "火"),  // 巳午未三会南方火
        ("申", "酉", "戌", "金"),  // 申酉戌三会西方金
        ("亥", "子", "丑", "水")   // 亥子丑三会北方水
    ]

    /// 地支六冲
    static let diZhiChong: [(String, String)] = [
        ("子", "午"), ("丑", "未"), ("寅", "申"),
        ("卯", "酉"), ("辰", "戌"), ("巳", "亥")
    ]

    /// 地支相刑
    static let diZhiXing: [(String, String)] = [
        ("寅", "巳"), ("巳", "申"), ("申", "寅"),  // 寅巳申三刑
        ("丑", "戌"), ("戌", "未"), ("未", "丑"),  // 丑戌未三刑
        ("子", "卯"), ("卯", "子"),                // 子卯相刑
        ("辰", "辰"), ("午", "午"), ("酉", "酉"), ("亥", "亥")  // 自刑
    ]

    /// 地支相害
    static let diZhiHai: [(String, String)] = [
        ("子", "未"), ("丑", "午"), ("寅", "巳"),
        ("卯", "辰"), ("申", "亥"), ("酉", "戌")
    ]

    /// 地支相破
    static let diZhiPo: [(String, String)] = [
        ("子", "酉"), ("丑", "辰"), ("寅", "亥"),
        ("卯", "午"), ("巳", "申"), ("未", "戌")
    ]

    // MARK: - 月令旺相

    /// 月支对应的五行旺相
    static let monthWangXing: [String: String] = [
        "寅": "木", "卯": "木",           // 春季木旺
        "巳": "火", "午": "火",           // 夏季火旺
        "申": "金", "酉": "金",           // 秋季金旺
        "亥": "水", "子": "水",           // 冬季水旺
        "辰": "土", "戌": "土", "丑": "土", "未": "土"  // 四季土旺
    ]
}
